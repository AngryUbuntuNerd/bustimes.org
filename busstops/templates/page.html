<!doctype html>
<html lang="en-GB">
<head>
<meta charset="utf-8" />
<title>{% block title %}{% if object %}{% firstof object.get_qualified_name object %} â€“ {% endif %}Bus Times{% endblock %}</title>
<meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1" />
<meta name="theme-color" content="#fe9" />
{% if object.get_absolute_url %}
    <link rel="canonical" href="https://bustimes.org.uk{{ object.get_absolute_url }}" />
{% endif %}
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://bustimes.org.uk","name":"Bus Times","potentialAction":{"@type":"SearchAction","target":"https://bustimes.org.uk/search?q={q}","query-input":"required name=q"}}</script>
{% load staticfiles %}
<link rel="manifest" href="{% static 'manifest.json' %}" />
<!--[if gte IE 9]><!-->
{% load pipeline %}
{% stylesheet 'main' %}
<!--<![endif]-->
<!--[if lt IE 9]>
{% stylesheet 'ie' %}
<script src="{% static "js/bower_components/html5shiv/dist/html5shiv-printshiv.min.js" %}"></script>
<![endif]-->
{% block head %}
{% endblock %}
</head>
<body class="{% block bodyclass %}wide{% endblock %}">
{% block header %}
    {% block headerad %}
    <div class="banner-ad" id="headerad">
        <ins class="adsbygoogle" data-ad-client="ca-pub-4420219114164200" data-ad-slot="5070920457" data-ad-format="auto"></ins>
        <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
    </div>
    {% endblock %}
<header>
    <div>
        <a href="/" class="site-name{% if object.mode == 'ferry' %} ferry{% endif %}">{% if object.mode == 'ferry' %}Ferry{% else %}Bus{% endif %} Times</a>
        <ul>
            <li><a href="/map{% if object.latlong %}#{{ object.latlong.y }},{{ object.latlong.x }}{% endif %}">Map</a></li>
        </ul>
    </div>
</header>
{% endblock %}
<main>
    {% block breadcrumb %}{% include 'breadcrumb.html' %}{% endblock %}
    {% block content %}{% endblock %}
</main>

{% block footer %}
<footer>
    {% block ad %}
    <div class="banner-ad" id="ad">
        <div style="display:none; position: relative;">
<script type="text/javascript">
var data = {
    placementid: '485255881677580_485287535007748',
    format: '300x250',
    testmode: false,
    onAdLoaded: function (element) {
        console.log('Audience Network [485255881677580_485287535007748] ad loaded');
        element.style.display = 'block';
    },
    onAdError: function(errorCode, errorMessage) {
        var script = document.createElement('script'), ad = this.rootElement.parentElement;
        (window.adsbygoogle = window.adsbygoogle || []).push({});
        script.src = 'https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js';
        ad.innerHTML = '<ins class="adsbygoogle" data-ad-client="ca-pub-4420219114164200" data-ad-slot="5070920457" data-ad-format="auto"></ins>';
        ad.appendChild(script);
    }
};
</script>
<script>
(function(a,b,c){var d="https://www.facebook.com",e="https://connect.facebook.net/en_US/fbadnw55.js",f={iframeLoaded:true,xhrLoaded:true},g=a.data,h=function(){if(Date.now){return Date.now();}else return +new Date();},i=function(aa){var ba=d+"/audience_network/client_event",ca={cb:h(),event_name:"ADNW_ADERROR",ad_pivot_type:"audience_network_mobile_web",sdk_version:"5.5.web",app_id:g.placementid.split("_")[0],publisher_id:g.placementid.split("_")[1],error_message:aa},da=[];for(var ea in ca)da.push(encodeURIComponent(ea)+"="+encodeURIComponent(ca[ea]));var fa=ba+"?"+da.join("&"),ga=new XMLHttpRequest();ga.open("GET",fa,true);ga.send();if(g.onAdError)g.onAdError("1000","Internal error.");},j=function(){if(b.currentScript){return b.currentScript;}else{var aa=b.getElementsByTagName("script");return aa[aa.length-1];}},k=function(aa){try{return aa.document.referrer;}catch(ba){}return "";},l=function(){var aa=a,ba=[aa];try{while(aa!==aa.parent&&aa.parent.document)ba.push(aa=aa.parent);}catch(ca){}return ba.reverse();},m=function(){var aa=l();for(var ba=0;ba<aa.length;ba++){var ca=aa[ba],da=ca.ADNW||{};ca.ADNW=da;if(!ca.ADNW)continue;return da.v55=da.v55||{ads:[],window:ca};}throw new Error("no_writable_global");},n=function(aa){var ba=aa.indexOf("/",aa.indexOf("://")+3);if(ba===-1)return aa;return aa.substring(0,ba);},o=function(aa){return aa.location.href||k(aa);},p=function(aa){if(aa.sdkLoaded)return;var ba=aa.window.document,ca=ba.createElement("iframe");ca.name="fbadnw";ca.style.display="none";ba.body.appendChild(ca);var da=ca.contentDocument.createElement("script");da.src=e;da.async=true;ca.contentDocument.body.appendChild(da);aa.sdkLoaded=true;},q=function(aa){var ba=/^https?:\/\/www\.google(\.com?)?.\w{2,3}$/;return !!aa.match(ba);},r=function(aa){return !!aa.match(/cdn\.ampproject\.org$/);},s=function(){var aa=c.ancestorOrigins||[],ba=aa[aa.length-1]||c.origin,ca=aa[aa.length-2]||c.origin;if(q(ba)&&r(ca)){return n(ca);}else return n(ba);},t=function(aa){try{return JSON.parse(aa);}catch(ba){i(ba.message);throw ba;}},u=function(aa,ba,ca){if(!aa.iframe){var da=ca.createElement("iframe");da.src=d+"/audiencenetwork/iframe/";da.style.display="none";ca.body.appendChild(da);aa.iframe=da;aa.iframeAppendedTime=h();aa.iframeData={};}ba.iframe=aa.iframe;ba.iframeData=aa.iframeData;ba.tagJsIframeAppendedTime=aa.iframeAppendedTime||0;},v=function(aa){var ba=d+"/audiencenetwork/xhr/?sdk=5.5.web";for(var ca in aa)if(typeof aa[ca]!=="function")ba+="&"+ca+"="+encodeURIComponent(aa[ca]);var da=new XMLHttpRequest();da.open("GET",ba,true);da.withCredentials=true;da.onreadystatechange=function(){if(da.readyState===4){var ea=t(da.response);aa.events.push({name:"xhrLoaded",source:aa.iframe.contentWindow,data:ea,postMessageTimestamp:h(),receivedTimestamp:h()});}};da.send();},w=function(aa,ba){var ca=d+"/audiencenetwork/xhriframe/?sdk=5.5.web";for(var da in ba)if(typeof ba[da]!=="function")ca+="&"+da+"="+encodeURIComponent(ba[da]);var ea=b.createElement("iframe");ea.src=ca;ea.style.display="none";b.body.appendChild(ea);ba.iframe=ea;ba.iframeData={};ba.tagJsIframeAppendedTime=h();},x=function(aa){var ba=function(event){try{var da=event.data;if(da.name in f)aa.events.push({name:da.name,source:event.source,data:da.data});}catch(ea){}},ca=aa.iframe.contentWindow.parent;ca.addEventListener("message",ba,false);},y=function(aa){if(aa.context&&aa.context.sourceUrl)return true;try{return !!JSON.parse(decodeURI(aa.name)).ampcontextVersion;}catch(ba){return false;}},z=function(aa){var ba=h(),ca=l()[0],da=j().parentElement,ea=ca!=a.top,fa=ca.$sf&&ca.$sf.ext,ga=o(ca),ha=m();p(ha);var ia={amp:y(ca),events:[],tagJsInitTime:ba,rootElement:da,iframe:null,tagJsIframeAppendedTime:ha.iframeAppendedTime||0,url:ga,domain:s(),channel:n(o(ca)),width:screen.width,height:screen.height,pixelratio:a.devicePixelRatio,placementindex:ha.ads.length,crossdomain:ea,safeframe:!!fa,placementid:g.placementid,format:g.format||"300x250",testmode:!!g.testmode,onAdLoaded:g.onAdLoaded,onAdError:g.onAdError};if(g.bidid)ia.bidid=g.bidid;if(ea){w(ha,ia);}else{u(ha,ia,ca.document);v(ia);}x(ia);ia.rootElement.dataset.placementid=ia.placementid;ha.ads.push(ia);};try{z();}catch(aa){i(aa.message||aa);throw aa;}})(window,document,location);
</script>
        </div>
    </div>
    {% endblock %}
    <ul>
        <li><a href="/contact">Contact</a></li>
        <li><a href="/cookies">Cookie policy</a></li>
        <li><a href="/data">Data sources</a></li>
    </ul>
</footer>
{% endblock %}

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-65987478-1', 'auto');
{% if object.region_id %}ga('set', 'dimension1', '{{ object.region_id }}');{% endif %}
ga('send', 'pageview');
</script>
{% load raven %}
<script src="https://cdn.ravenjs.com/3.12.1/raven.min.js" crossorigin="anonymous"></script>
<script>
    Raven.config('{% sentry_public_dsn %}', {
        whitelistUrls: [/bustimes\.org\.uk\/.*\.js/]
    }).install();
</script>
{% if stopusages or stops or stoppoint %}
{% javascript 'map' %}
{% elif regions %}
{% javascript 'frontpage' %}
{% elif timetables %}
<script async src="{% static 'js/timetable.js' %}"></script>
{% endif %}
<script async src="{% static 'js/global.js' %}"></script>
</body>
</html>
